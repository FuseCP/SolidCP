<Project Sdk="Microsoft.NET.Sdk">

	<PropertyGroup>
		<OutputType>Exe</OutputType>
		<TargetFramework>net48</TargetFramework>
		<ImplicitUsings>enable</ImplicitUsings>
		<Nullable>enable</Nullable>
		<LangVersion>12</LangVersion>
		<CopyLocalLockFileAssemblies>true</CopyLocalLockFileAssemblies>
		<StartupObject>SolidCP.UniversalInstaller.Program</StartupObject>
		<GenerateAssemblyInfo>False</GenerateAssemblyInfo>
	</PropertyGroup>

	<PropertyGroup Condition=" '$(Configuration)' == 'Debug' ">
		<DebugType>portable</DebugType>
		<Optimize>false</Optimize>
	</PropertyGroup>
		
	<PropertyGroup Condition=" '$(Configuration)' == 'Release' ">
		<DebugType>portable</DebugType>
		<Optimize>false</Optimize>
	</PropertyGroup>

	
	<ItemGroup>
		<None Remove="Resources\Microsoft.Web.Administration.dll" />
		<None Remove="Resources\Microsoft.Web.Delegation.dll" />
		<None Remove="Resources\Microsoft.Web.Deployment.dll" />
		<None Remove="Resources\Microsoft.Web.Deployment.Tracing.dll" />
		<None Remove="Resources\Microsoft.Web.PlatformInstaller.dll" />
		<None Remove="Resources\Microsoft.Win32.Registry.dll" />
		<None Remove="Resources\Newtonsoft.Json.dll" />
		<None Remove="Resources\Newtonsoft.Json.xml" />
		<None Remove="Resources\SolidCP.Providers.OS.Windows2003.dll" />
		<None Remove="Resources\SolidCP.Providers.OS.Windows2003.pdb" />
		<None Remove="Resources\SolidCP.Providers.OS.Windows2008.dll" />
		<None Remove="Resources\SolidCP.Providers.OS.Windows2008.pdb" />
		<None Remove="Resources\SolidCP.Providers.OS.Windows2012.dll" />
		<None Remove="Resources\SolidCP.Providers.OS.Windows2012.pdb" />
		<None Remove="Resources\SolidCP.Providers.OS.Windows2016.dll" />
		<None Remove="Resources\SolidCP.Providers.OS.Windows2016.pdb" />
		<None Remove="Resources\SolidCP.Providers.OS.Windows2019.dll" />
		<None Remove="Resources\SolidCP.Providers.OS.Windows2019.pdb" />
		<None Remove="Resources\SolidCP.Providers.OS.Windows2022.dll" />
		<None Remove="Resources\SolidCP.Providers.OS.Windows2022.pdb" />
		<None Remove="Resources\SolidCP.Providers.Web.IIs100.dll" />
		<None Remove="Resources\SolidCP.Providers.Web.IIs100.pdb" />
		<None Remove="Resources\SolidCP.Providers.Web.IIs60.dll" />
		<None Remove="Resources\SolidCP.Providers.Web.IIs60.pdb" />
		<None Remove="Resources\SolidCP.Providers.Web.IIs70.dll" />
		<None Remove="Resources\SolidCP.Providers.Web.IIs70.pdb" />
		<None Remove="Resources\SolidCP.Providers.Web.IIs80.dll" />
		<None Remove="Resources\SolidCP.Providers.Web.IIs80.pdb" />
		<None Remove="Resources\SolidCP.Server.Utils.dll" />
		<None Remove="Resources\SolidCP.Server.Utils.pdb" />
		<None Remove="Resources\WpiServiceContract.dll" />
		<None Remove="Resources\WpiServiceContract.pdb" />
	</ItemGroup>

	<ItemGroup>
		<ProjectReference Include="..\..\..\SolidCP\Sources\SolidCP.Providers.Base\SolidCP.Providers.Base.csproj" />
		<ProjectReference Include="..\..\..\SolidCP\Sources\SolidCP.Providers.OS.Unix\SolidCP.Providers.OS.Unix.csproj" />
		<ProjectReference Include="..\..\..\SolidCP\Sources\SolidCP.Providers.OS.Windows2003\SolidCP.Providers.OS.Windows2003.csproj" />
		<ProjectReference Include="..\..\..\SolidCP\Sources\SolidCP.Providers.OS.Windows2008\SolidCP.Providers.OS.Windows2008.csproj" />
		<ProjectReference Include="..\..\..\SolidCP\Sources\SolidCP.Providers.OS.Windows2012\SolidCP.Providers.OS.Windows2012.csproj" />
		<ProjectReference Include="..\..\..\SolidCP\Sources\SolidCP.Providers.OS.Windows2016\SolidCP.Providers.OS.Windows2016.csproj" />
		<ProjectReference Include="..\..\..\SolidCP\Sources\SolidCP.Providers.OS.Windows2019\SolidCP.Providers.OS.Windows2019.csproj" />
		<ProjectReference Include="..\..\..\SolidCP\Sources\SolidCP.Providers.OS.Windows2022\SolidCP.Providers.OS.Windows2022.csproj" />
		<ProjectReference Include="..\..\..\SolidCP\Sources\SolidCP.Providers.Web.IIs100\SolidCP.Providers.Web.IIs100.csproj" />
		<ProjectReference Include="..\..\..\SolidCP\Sources\SolidCP.Providers.Web.IIs60\SolidCP.Providers.Web.IIs60.csproj" />
		<ProjectReference Include="..\..\..\SolidCP\Sources\SolidCP.Providers.Web.IIS70\SolidCP.Providers.Web.IIs70.csproj" />
		<ProjectReference Include="..\..\..\SolidCP\Sources\SolidCP.Providers.Web.IIs80\SolidCP.Providers.Web.IIs80.csproj" />
		<ProjectReference Include="..\..\..\SolidCP\Sources\SolidCP.Server.Utils\SolidCP.Server.Utils.csproj" />
		<ProjectReference Include="..\..\..\SolidCP\Sources\SolidCP.Server.WPIServiceContract\SolidCP.Server.WPIServiceContract.csproj" />
	</ItemGroup>

	<ItemGroup>
		<Compile Include="..\..\..\SolidCP\Sources\VersionInfo.cs" Link="VersionInfo.cs" />
	</ItemGroup>

	<ItemGroup>
		<EmbeddedResource Include="Resources\Microsoft.Web.Administration.dll" />
		<EmbeddedResource Include="Resources\Microsoft.Web.Delegation.dll" />
		<EmbeddedResource Include="Resources\Microsoft.Web.Deployment.dll" />
		<EmbeddedResource Include="Resources\Microsoft.Web.Deployment.Tracing.dll" />
		<EmbeddedResource Include="Resources\Microsoft.Web.PlatformInstaller.dll" />
		<EmbeddedResource Include="Resources\Microsoft.Win32.Registry.dll" />
		<EmbeddedResource Include="Resources\Newtonsoft.Json.dll" />
		<EmbeddedResource Include="Resources\Newtonsoft.Json.xml" />
		<EmbeddedResource Include="Resources\SolidCP.Providers.OS.Windows2003.dll" />
		<EmbeddedResource Include="Resources\SolidCP.Providers.OS.Windows2003.pdb" />
		<EmbeddedResource Include="Resources\SolidCP.Providers.OS.Windows2008.dll" />
		<EmbeddedResource Include="Resources\SolidCP.Providers.OS.Windows2008.pdb" />
		<EmbeddedResource Include="Resources\SolidCP.Providers.OS.Windows2012.dll" />
		<EmbeddedResource Include="Resources\SolidCP.Providers.OS.Windows2012.pdb" />
		<EmbeddedResource Include="Resources\SolidCP.Providers.OS.Windows2016.dll" />
		<EmbeddedResource Include="Resources\SolidCP.Providers.OS.Windows2016.pdb" />
		<EmbeddedResource Include="Resources\SolidCP.Providers.OS.Windows2019.dll" />
		<EmbeddedResource Include="Resources\SolidCP.Providers.OS.Windows2019.pdb" />
		<EmbeddedResource Include="Resources\SolidCP.Providers.OS.Windows2022.dll" />
		<EmbeddedResource Include="Resources\SolidCP.Providers.OS.Windows2022.pdb" />
		<EmbeddedResource Include="Resources\SolidCP.Providers.Web.IIs100.dll" />
		<EmbeddedResource Include="Resources\SolidCP.Providers.Web.IIs100.pdb" />
		<EmbeddedResource Include="Resources\SolidCP.Providers.Web.IIs60.dll" />
		<EmbeddedResource Include="Resources\SolidCP.Providers.Web.IIs60.pdb" />
		<EmbeddedResource Include="Resources\SolidCP.Providers.Web.IIs70.dll" />
		<EmbeddedResource Include="Resources\SolidCP.Providers.Web.IIs70.pdb" />
		<EmbeddedResource Include="Resources\SolidCP.Providers.Web.IIs80.dll" />
		<EmbeddedResource Include="Resources\SolidCP.Providers.Web.IIs80.pdb" />
		<EmbeddedResource Include="Resources\SolidCP.Server.Utils.dll" />
		<EmbeddedResource Include="Resources\SolidCP.Server.Utils.pdb" />
		<EmbeddedResource Include="..\..\..\SolidCP\Deploy\$(Configuration)\SolidCP-Server.zip" Link="Resources\SolidCP-Server.zip" />
		<EmbeddedResource Include="..\..\..\SolidCP\Deploy\$(Configuration)\SolidCP-EnterpriseServer.zip" Link="Resources\SolidCP-EnterpriseServer.zip" />
		<EmbeddedResource Include="..\..\..\SolidCP\Deploy\$(Configuration)\SolidCP-Portal.zip" Link="Resources\SolidCP-Portal.zip" />
		<EmbeddedResource Include="..\..\..\SolidCP\Deploy\$(Configuration)\SolidCP-Web-Dav-Portal.zip" Link="Resources\SolidCP-Web-Dav-Portal.zip" />
		<EmbeddedResource Include="Resources\WpiServiceContract.dll" />
		<EmbeddedResource Include="Resources\WpiServiceContract.pdb" />
	</ItemGroup>

	<ItemGroup>
	  <PackageReference Include="DotNetZip.NetStandard" Version="1.12.0" />
	  <PackageReference Include="Mono.Posix-4.5" Version="4.5.0" />
	  <PackageReference Include="System.Text.Encoding.CodePages" Version="8.0.0" />
	</ItemGroup>

	<ItemGroup>
	  <Reference Include="System.Net.Http" />
	</ItemGroup>

	<Target Name="CopyResources" BeforeTargets="Build">
		<Message Text="Copying Installer Resources" Importance="high" />
		<ItemGroup>
			<FilesToCopy Include="..\..\..\SolidCP\Sources\SolidCP.Server\bin\Providers\SolidCP.Providers.OS.Windows2003.*" />
			<FilesToCopy Include="..\..\..\SolidCP\Sources\SolidCP.Server\bin\Providers\SolidCP.Providers.OS.Windows2008.*" />
			<FilesToCopy Include="..\..\..\SolidCP\Sources\SolidCP.Server\bin\Providers\SolidCP.Providers.OS.Windows2012.*" />
			<FilesToCopy Include="..\..\..\SolidCP\Sources\SolidCP.Server\bin\Providers\SolidCP.Providers.OS.Windows2016.*" />
			<FilesToCopy Include="..\..\..\SolidCP\Sources\SolidCP.Server\bin\Providers\SolidCP.Providers.OS.Windows2019.*" />
			<FilesToCopy Include="..\..\..\SolidCP\Sources\SolidCP.Server\bin\Providers\SolidCP.Providers.OS.Windows2022.*" />
			<FilesToCopy Include="..\..\..\SolidCP\Sources\SolidCP.Server\bin\Providers\SolidCP.Providers.OS.Unix.*" />
			<FilesToCopy Include="..\..\..\SolidCP\Sources\SolidCP.Server\bin\Providers\SolidCP.Server.Utils.*" />
			<FilesToCopy Include="..\..\..\SolidCP\Sources\SolidCP.Server\bin\IIs100\SolidCP.Providers.Web.IIs100.*" />
			<FilesToCopy Include="..\..\..\SolidCP\Sources\SolidCP.Server\bin\Providers\SolidCP.Providers.Web.IIs60.*" />
			<FilesToCopy Include="..\..\..\SolidCP\Sources\SolidCP.Server\bin\Providers\SolidCP.Providers.Web.IIs70.*" />
			<FilesToCopy Include="..\..\..\SolidCP\Sources\SolidCP.Server\bin\IIs80\SolidCP.Providers.Web.IIs80.*" />
			<FilesToCopy Include="..\..\..\SolidCP\Sources\SolidCP.Server\bin\IIs100\Microsoft.Web.Administration.*" />
			<FilesToCopy Include="..\..\..\SolidCP\Sources\SolidCP.Server\bin\Providers\Microsoft.Web.Delegation.*" />
			<FilesToCopy Include="..\..\..\SolidCP\Sources\SolidCP.Server\bin\Providers\Microsoft.Web.Deployment.*" />
			<FilesToCopy Include="..\..\..\SolidCP\Sources\SolidCP.Server\bin\Providers\Microsoft.Web.Deployment.Tracing.*" />
			<FilesToCopy Include="..\..\..\SolidCP\Sources\SolidCP.Server\bin\Providers\Microsoft.Web.PlatformInstaller.*" />
			<FilesToCopy Include="..\..\..\SolidCP\Sources\SolidCP.Server\bin\Providers\Microsoft.Win32.Registry.*" />
			<FilesToCopy Include="..\..\..\SolidCP\Sources\SolidCP.Server\bin\Providers\DotNetZip.*" />
			<FilesToCopy Include="..\..\..\SolidCP\Sources\SolidCP.Server\bin\Providers\SyslogNet.Client.*" />
			<FilesToCopy Include="..\..\..\SolidCP\Sources\SolidCP.WPIServiceContract\bin\$(Configuration)\Providers\WpiServiceContract.*" />
		</ItemGroup>
		<Copy SourceFiles="@(FilesToCopy)" DestinationFolder="Resources" SkipUnchangedFiles="true" />
	</Target>

</Project>
